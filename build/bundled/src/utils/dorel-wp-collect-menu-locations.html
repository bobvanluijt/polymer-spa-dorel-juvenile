<html><head></head><body><dom-module id="dorel-wp-collect-menu-locations">
  <template>
    <iron-ajax auto="" url="[[ endPoint ]]" handle-as="json" on-response="_menuLoaded"></iron-ajax>

    <iron-ajax id="menuItems" url="" handle-as="json" on-response="_menuItemsLoaded"></iron-ajax>
  </template>
</dom-module>

<script>Polymer({is:"dorel-wp-collect-menu-locations",properties:{wpUrl:{type:String},endPoint:{type:String}},observers:["_initMenuLocations(globals.Dorel.wpUrl)"],_menuLoaded:function(e){var t=e.detail.response;for(var o in t)"utilities_menu"!==o&&(this.$.menuItems.url=this.wpUrl+"/wp-api-menus/v2/menu-locations/"+o,this.$.menuItems.generateRequest());Polymer.globalsManager.set("Dorel.collect.menus",t)},_menuItemsLoaded:function(e){for(var t=e.detail.response,o=e.detail.url.split("/"),n=o[o.length-1],l=0,s=t.length;l<s;l++)t[l].title=t[l].title.toLowerCase();Polymer.globalsManager.set("Dorel.collect.menus."+n,{}),Polymer.globalsManager.set("Dorel.collect.menus."+n+".items",t),this.menuData=this.globals.Dorel.collect.menus},_initMenuLocations:function(e){void 0!==e&&""!==e&&this._hasProps(e)&&(this.endPoint=this.wpUrl+"/wp-api-menus/v2/menu-locations")},_hasProps:function(e){var t=!1;for(var o in e)t=!!e.hasOwnProperty(o);return t}});</script></body></html>