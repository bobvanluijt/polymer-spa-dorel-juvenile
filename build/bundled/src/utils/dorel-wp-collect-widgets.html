<html><head></head><body><dom-module id="dorel-wp-collect-widgets">
  <template>
    <iron-ajax auto="" url="[[ endPoint ]]" handle-as="json" on-response="_widgetAreasLoaded"></iron-ajax>

    <iron-ajax id="widget" url="" handle-as="json" on-response="_widgetsLoaded"></iron-ajax>
  </template>

  <script>Polymer({is:"dorel-wp-collect-widgets",properties:{endPoint:{type:String}},observers:["_initWidgets(globals.Dorel.wpUrl)"],_initWidgets:function(e){"undefined"!=typeof e&&""!==e&&this._hasProps(e)&&(this.endPoint=this.globals.Dorel.wpUrl+"/wp-rest-api-sidebars/v1/sidebars")},_widgetAreasLoaded:function(e){var t=e.detail.response,r=this.$.widget,s=this.endPoint;Polymer.globalsManager.set("Dorel.collect.widgetAreas",{});for(var l=0,i=t.length;l<i;l++)Polymer.globalsManager.set("Dorel.collect.widgetAreas."+t[l].id,t[l]),r.url=s+"/"+t[l].id,r.generateRequest()},_widgetsLoaded:function(e){var t=e.detail.response,r=this.globals.Dorel.collect.widgetAreas,s=e.detail.url.split("/"),l=s[s.length-1];for(var i in r)i===l&&Polymer.globalsManager.set("Dorel.collect.widgetAreas."+i,t);this.widgetsData=this.globals.Dorel.collect.widgetAreas},_hasProps:function(e){var t=!1;for(var r in e)t=!!e.hasOwnProperty(r);return t}});</script>
</dom-module></body></html>