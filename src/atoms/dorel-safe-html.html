<dom-module id="dorel-safe-html">
  <template>
    <style>
      h1, h2, h3, h4 {
        @apply(--theme-header-text-transform);
      }

      #content {
        width: 100%;
        @apply(--theme-paragraph-text);
        margin: 0;
      }

      #content p {
        @apply(--theme-paragraph-text);
      }

      #content a {
        @apply(--theme-text-link);
      }

      #content a:hover, .accessory a:focus {
        @apply(--theme-text-link-active);
      }

      :host([full-width]) #content {
        max-width: 98%;
        background-color: var(--theme-color-monochrome-2);
        text-align: center;
        padding: 1%;
      }

      :host([full-width]) #content p {
        max-width: 100%;
        margin: 1rem;
      }
    </style>
    <div id="content"></div>
  </template>

  <script>
    Polymer({
      is: 'dorel-safe-html',

      properties: {

        /**
         * @attribute
         * @name html
         * @description holds the html markup in string format to place
         */
        html: {
          type: String,
          value: '',
          observer: '_htmlChanged'
        },

        fullWidth: {
          type: Boolean,
          reflectToAttribute: true
        }

      },

      /**
       * @name _htmlChanged
       * @description checks to see if the html attribute changed, if so insert the
       * new html inside the content div
       */
      _htmlChanged: function() {
        Polymer.dom(this.$.content).innerHTML = (typeof this.html === 'undefined') ? '' : this.html;
      }
    });
  </script>

</dom-module>
