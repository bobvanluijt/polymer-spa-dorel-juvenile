<dom-module id="dorel-content-wrap">
  <template>
    <style>
      :host {
        max-width: var(--theme-base-paragraph-width);
        width: 100%;
        margin: auto;
        display: block;
      }

      .title {
        float: left;
        width: 100%;
        color: var(--theme-brand-color-1);
        max-width: var(--theme-base-paragraph-width);
      }

      h1.title {
        @apply(--theme-typography-6);
      }

      h2.title {
        @apply(--theme-typography-4);
      }

      [tablet-medium-up] h1.title {
        @apply(--theme-typography-7);
      }

      [tablet-medium-up] h2.title {
        @apply(--theme-typography-6);
      }
    </style>

    <dorel-media-query breakpoints="{{ breakpoints }}"></dorel-media-query>


    <div class="content-wrapper" tablet-medium-up$="{{ breakpoints.tabletMediumUp }}">
      <div class="content">
        <template is="dom-if" if="{{ _hasValue(contentTitle) }}">
          <template is="dom-if" if="{{ _isMainHeader(contentIndex) }}">
            <h1 class="title">[[ contentTitle ]]</h1>
          </template>

          <template is="dom-if" if="{{ !_isMainHeader(contentIndex) }}">
            <h2 class="title">[[ contentTitle ]]</h2>
          </template>
        </template>

        <template is="dom-if" if="{{ _hasValue(contentText) }}">
          <div class="text">
            <dorel-safe-html html="[[ contentText ]]"></dorel-safe-html>
          </div>
        </template>
      </div>
    </div>
  </template>

  <script>
    Polymer({
      is: 'dorel-content-wrap',

      properties: {

        /**
         * @attribute
         * @name contentTitle
         * @description defines the title of the content
         */
        contentTitle: {
          type: String,
          value: ''
        },

        /**
         * @attribute
         * @name contentHtml
         * @description defines the html markup of the content
         */
        contentHtml: {
          type: String,
          value: ''
        }

      },

      /**
       * @name _hasValue
       * @description checks to see if a value is set
       *
       * @returns Boolean
       */
      _hasValue: function (val) {
        return (typeof val !== 'undefined' && val !== '');
      },

      /**
       * @name _isMainHeader
       * @description check if this is the first content wrapper which should be an h1
       *
       * @returns Boolean
       */
      _isMainHeader: function (index) {
        return (typeof index !== 'undefined' && index < 1);
      }
    });
  </script>
</dom-module>
