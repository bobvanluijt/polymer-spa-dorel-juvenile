<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/iron-media-query/iron-media-query.html">

<dom-module id="dorel-layout-container">
  <template>
    <style include="iron-flex iron-flex-alignment">
      .container {
        @apply(--layout-wrap);
      }
      .container[mobile] {
        @apply(--layout-vertical);
      }
      .container[tablet-small] {
        @apply(--layout-vertical);
      }
      .container[tablet-big] {
        @apply(--layout-horizontal);
      }
      .container[desktop-small] {
        @apply(--layout-horizontal);
      }
      .container[desktop-full] {
        @apply(--layout-horizontal);
      }

      .container-fixed {
        max-width: 1100px;
      }
    </style>

    <!-- media queries -->
    <iron-media-query query="(min-width: 320px) and (max-width: 360px)" 
      query-matches="{{ mobile }}"></iron-media-query>
    <iron-media-query query="(min-width: 361px) and (max-width: 600px)" 
      query-matches="{{ tabletSmall }}"></iron-media-query>
    <iron-media-query query="(min-width: 601px) and (max-width: 768px)"
      query-matches="{{ tabletBig }}"></iron-media-query>
    <iron-media-query query="(min-width: 769px) and (max-width: 850px)" 
      query-matches="{{ desktopSmall }}"></iron-media-query>
    <iron-media-query query="(min-width: 850px)" 
      query-matches="{{ desktopFull }}"></iron-media-query>

    <template
      is="dom-if"
      if="[[ fixed ]]">
      <div class="container container-fixed"
        mobile$="{{ mobile }}"
        tablet-small$="{{ tabletSmall }}"
        tablet-big$="{{ tabletBig }}"
        desktop-small$="{{ desktopSmall }}"
        desktop-full$="{{ desktopFull }}">
        <content></content>
      </div>
    </template>

    <template
      is="dom-if"
      if="[[ !fixed ]]">
      <div class="container"
        mobile$="{{ mobile }}"
        tablet-small$="{{ tabletSmall }}"
        tablet-big$="{{ tabletBig }}"
        desktop-small$="{{ desktopSmall }}"
        desktop-full$="{{ desktopFull }}">
        <content></content>
      </div>
    </template>
  </template>

  <script>
    // @todo deprecated?
    Polymer({
      is: 'dorel-layout-container',

      properties: {
        fixed: {
          type: Boolean
        }
      }
    });
  </script>

</dom-module>
