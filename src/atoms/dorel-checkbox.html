<link rel="import" href="../../node_modules/@polymer/paper-checkbox/paper-checkbox.html">
<dom-module id="dorel-checkbox">
  <template>
    <style>
      :host {
        display: block;
        width: auto;
        position: relative;
        float: left;

        --paper-checkbox-checked-color: var(--theme-brand-color-1);
        --paper-checkbox-checkmark-color: var(--theme-monochrome-1);
        --paper-checkbox-label-color: var(--theme-color-black);
        --paper-checkbox-unchecked-color: var(--theme-color-black);
        --paper-font-common-base: var(--theme-font);

      }
    </style>

    <paper-checkbox checked="{{ checked }}"
                    disabled="[[ disabled ]]"
                    on-change="_onChangeHandler"
                    noink>[[ label ]]
    </paper-checkbox>

  </template>
  <script>
    Polymer({
      is: 'dorel-checkbox',
      properties: {
        /**
         * @name checked
         * @description The checked state of the checkbox
         */
        checked: {
          type: Boolean,
          value: false,
          notify: true
        },
        /**
         * @name disabled
         * @description The disabled state of the checkbox
         */
        disabled: {
          type: Boolean,
          value: false,
        },
        /**
         * @name label
         * @description The checkbox label
         */
        label: {
          type: String,
          value: ''
        },
        /**
         * @name colorCode
         * @description The css variable used to color the checkbox
         */
        colorCode: {
          type: String,
          value: 'transparent'
        }
      },

      observers: [
        'updateColor(colorCode)'
      ],

      ready: function() {
        this.set('checked', false);
      },

      /**
       * @name _onChangeHandler
       * @description handles the on-change for the paper-checkbox, and fires an on-change from the dorel-checkbox upwards
       */
      _onChangeHandler: function (e, detail) {
        this.fire('on-change');
      },

      /**
       * @name attached
       * @description Updates the styling if a color code is provided for the checkbox
       */
      updateColor: function(colorCode) {
        var color = colorCode ? colorCode : this.getComputedStyleValue('--paper-checkbox-checked-color');
        this.updateStyles({
          '--paper-checkbox-unchecked-background-color': colorCode,
          '--paper-checkbox-unchecked-color': colorCode,
          '--paper-checkbox-checked-color': colorCode
        });
      },
    });
  </script>

</dom-module>
