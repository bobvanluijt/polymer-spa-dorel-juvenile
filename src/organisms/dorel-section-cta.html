<link rel="import" href="../atoms/dorel-icons-cta-section.html">

<dom-module id="dorel-section-cta">
  <template>
    <style include="iron-flex iron-flex-alignment">
      :host {
        --button-margin-spacing: -1.5em;
      }

      dorel-layout-container {
        position: relative;
      }

      dorel-cta {
        margin-top: 1.5em;
        float: left;
        width: 100%;
      }

      dorel-layout-column {
        margin-top: 0;
      }

      h2 {
        display: initial;
        padding: 0;
        margin: 0;
        font-size: 1em;
      }

      [tablet-medium-up] {
        margin-top: -3em;
      }

    </style>

    <dorel-media-query breakpoints="{{ breakpoints }}"></dorel-media-query>

    <template is="dom-if" if="[[ ctaData.length ]]">
      <dorel-layout-container tablet-medium-up$="[[ breakpoints.tabletMediumUp ]]">
        <dorel-layout-row>
          <template
            is="dom-repeat"
            items="[[ ctaData ]]"
            as="cta">
            <dorel-layout-column desktop-column-span="4" tablet-column-span="4" mobile-column-span="12">
              <h2>
                <dorel-cta
                  type="tertiary"
                  title="[[ cta.cta_text ]]"
                  link="[[ cta.cta_link ]]"
                  link-target="[[ cta.cta_link_target ]]"
                  size="large"
                  extra-icon="dorel-cta-icons:[[ cta.cta_icon ]]"
                  icon="dorel-icons:chevron-right"
                  gtm-parent="[[ gtmParent ]]"
                  gtm-parent-index="[[ gtmParentIndex ]]"
                  gtm-cta-index="[[ index ]]">
                  [[ cta.cta_text ]]
                </dorel-cta>
              </h2>
            </dorel-layout-column>
          </template>
        </dorel-layout-row>
      </dorel-layout-container>
    </template>
  </template>

  <script>
    Polymer({
      is: 'dorel-section-cta',
      properties: {
        /**
         * @attribute
         * @name ctaData
         * @description all data needed for this CTA defined in ACF/Wordpress
         */
        ctaData: {
          type: Object,
          value: function () {
            return {};
          }
        }
      }
    });

  </script>
</dom-module>
