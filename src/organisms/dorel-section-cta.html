<dom-module id="dorel-section-cta">
  <template>
    <style include="iron-flex iron-flex-alignment">
      .section-cta {
        padding: 0 var(--theme-gutter) var(--theme-gutter) var(--theme-gutter);
        float: left;
        width: 100%;
        box-sizing: border-box;
      }

      .section-cta[mobile-small] {
        padding: 0 var(--theme-gutter-mobile);
      }

      dorel-cta {
        padding: 0 .75em;
      }

      [mobile-small]  dorel-cta {
        width: 100%;
        padding: 0;
      }

    </style>

    <!-- media queries -->
    <iron-media-query query="(max-width : 479px)"
                      query-matches="{{ mobileSmall }}"></iron-media-query>
    <iron-media-query query="(min-width : 480px) and (max-width : 767px)"
                      query-matches="{{ mobileMedium }}"></iron-media-query>

    <section class="section-cta layout horizontal center center-justified wrap" mobile-small$="{{ mobileSmall }}"
             mobile-medium$="{{ mobileMedium }}">
      <dorel-cta
        type="tertiary"
        link=""
        size="large"
        extra-icon="dorel-cta-icons:stroller"
        icon="dorel-icons:chevron-right">
        Strollers
      </dorel-cta>
      <dorel-cta
        type="tertiary"
        link=""
        size="large"
        extra-icon="dorel-cta-icons:car-seat"
        icon="dorel-icons:chevron-right">
        Car Seats
      </dorel-cta>
      <dorel-cta
        type="tertiary"
        link=""
        size="large"
        extra-icon="dorel-cta-icons:feeding-care"
        icon="dorel-icons:chevron-right">
        Feeding & Care
      </dorel-cta>
    </section>

  </template>

  <script>
    Polymer({
      is: 'dorel-section-cta',

      properties: {

        /**
         * @attribute
         * @name ctaData
         * @description all data needed for this CTA defined in ACF/Wordpress
         */
        ctaData: {
          type: Object,
          value: function () {
            return {};
          }
        }

      },

      /**
       * @name clickCTA
       * @description handle the click event of the CTA
       */
      clickCTA: function (event) {

        // Track the click event
        this._eventTracking(event);
      },

      /**
       * @name _eventTracking
       * @description this is for cta tracking only
       * more info http://bit.ly/2nb6I7G
       */
      _eventTracking: function (event) {

        var globals = Polymer.globalsManager.get('Dorel');

        /**
         * Tracking on click for cta
         */
        Polymer.globalsManager.set('Dorel.events', {
          action: 'click',
          component: 'call-to-action',
          element: Polymer.dom(event).localTarget,
          event: 'polymer_event',
          things: {
            'currentPage': document.URL,
            'targetPage': Polymer.dom(event).localTarget.href
          }
        });
      }
    });

  </script>

</dom-module>
