<!--
@license
Copyright (c) 2016 Dorel Juvenile. All rights reserved.
-->
<link rel="import" href="../../bower_components/polymer/polymer.html">

<!--


```html
<dorel-layout-section>
</dorel-layout-section>
```

Attribute | Description         | Default
----------|---------------------|----------------------------------------
`skewed` | Will make the background of the element skewed. | Not skewed

## Styling

Mixin | Description | Default
------|-------------|----------
`--dorel-layout-section` | Applies to the standout section | {}
`--dorel-layout-section-bg` | Applies to the standout section bg (not skewed) | {}
`--dorel-layout-section-skewed-bg` | Applies to the background color. | background-color: #ccc; {}
-->

<dom-module id="dorel-layout-section">
  <template>
    <style is="custom-style">
      .container-content {
        @apply(--layout-vertical);
      }
      .container-content[wide-layout] {
        @apply(--layout-horizontal);
      }
      .theme-headline {
        font-size: var(--theme-size-headline);
        @apply(--theme-heading);
      }
      .center-justified {
        @apply(--layout-horizontal);
        @apply(--layout-center-justified);
      }
      /* 
       * custom classes 
       */
      .standout {
        width: 100%;
        @apply(--dorel-layout-section);
      }
      .standout-bg {
        @apply(--dorel-layout-section-bg);
      }
      .standout-skew-bg {
        transform: skewY(5deg);
        background-color: #efefef;
        margin-top: -75px; /* compensate for skewed background */
        @apply(--dorel-layout-section-skewed-bg);
      }
      .standout-skewed-unskew {
        transform: skewY(-5deg);
      }
    </style>

    <iron-media-query query="(min-width:800px)" query-matches="{{isAtLeast800px}}"></iron-media-query>

    <section class="standout standout-bg">

      <!-- 
      TODO:
      - Remove duplicate code in the conditional. 
        Make the conditional in a way that the extra div's are 
        appended around the inner content.
      -->
      <template is="dom-if" if="{{skewed}}"  as="component">
        <div class="standout-skew-bg">
          <div class="standout-skewed-unskew">
            <div class="container-content" layoutwide$="{{isAtLeast800px}}">
              <content></content>
            </div>
          </div>
        </div>
      </template>

      <template is="dom-if" if="{{!skewed}}" as="component">
        <div class="container-content" wide-layout$="{{isAtLeast800px}}">
          <content></content>
        </div>
      </template>

    </section>

  </template>

  <script>
    Polymer({
      is: 'dorel-layout-section',
      properties: {
        /**
         * Skewes the background of the section
         */
        skewed: {
          type: Boolean,
          value: false
        }
      }
    });
  </script>

</dom-module>