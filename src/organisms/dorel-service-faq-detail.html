<link rel="import" href="../molecules/dorel-nav-tabs.html">
<link rel="import" href="../atoms/dorel-accordion-item.html">
<dom-module id="dorel-service-faq-detail">
  <template>
    <!-- YOUR STYLES HERE -->
    <style>
      :host {
        @apply(--max-width-host);
        --button-margin-spacing: 0;
      }

      section {
        @apply(--max-width-container);
        float: left;
        width: 100%;
        box-sizing: border-box;
        position: relative;
        padding: 0 var(--theme-gutter-mobile);
      }

      .row {
        @apply(--theme-grid-row);
        @apply(--theme-grid-row-mobile-margins);
        @apply(--layout-flex);
        justify-content: center;
      }

      dorel-nav-tabs {
        @apply(--theme-grid-column);
        -ms-flex-preferred-size: 100%;
        width: 100%;
        flex-basis: 100%;
        max-width: 100%;
      }

      .faq-questions {
        @apply(--theme-grid-column);
        -ms-flex-preferred-size: 100%;
        width: 100%;
        flex-basis: 100%;
        max-width: 100%;
      }

      p {
        margin: 0 0 1.5em 0;
      }

      [tablet-medium-up] {
        padding: 1.5em var(--theme-gutter) 3em var(--theme-gutter);;
      }

      [tablet-medium-up] .row {
        @apply(--theme-grid-row-margins);
      }

    </style>

    <dorel-media-query breakpoints="{{ breakpoints }}"></dorel-media-query>

    <section class="layout horizontal center center-justified wrap"
             tablet-medium-up$="[[ breakpoints.tabletMediumUp ]]">
      <div class="row">
        <dorel-nav-tabs selected="{{ selected }}" tabs="[[ tabs ]]"></dorel-nav-tabs>
      </div>
      <div class="row">
        <iron-pages class="faq-questions"
                    selected="{{ selected }}"
                    fallback-selection="0"
                    attr-for-selected="index">
          <template is="dom-repeat" items="[[ faqDetail ]]">
            <div index$="[[ index ]]">
              <template is="dom-repeat" items="[[ item.questions ]]">
                <dorel-accordion-item heading="[[ item.title ]]">
                  <p>[[ item.description ]]</p>
                </dorel-accordion-item>
              </template>
            </div>
          </template>
        </iron-pages>
      </div>
      </div>
    </section>
  </template>

  <script>
    Polymer({
      is: 'dorel-service-faq-detail',
      properties: {
        faqDetail: {
          type: Array,
          value: [
            {
              'title': 'Repairs',
              'questions': [
                {'title': 'Repairs First Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
                {'title': 'Repairs Second Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
                {'title': 'Repairs Third Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
                {'title': 'Repairs Fourth Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
              ]
            },
            {
              'title': 'Damaged Product',
              'questions': [
                {'title': 'Damaged Product First Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
                {'title': 'Damaged Product Second Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
                {'title': 'Damaged Product Third Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
                {'title': 'Damaged Product Fourth Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
              ]
            },
            {
              'title': 'Spare Parts',
              'questions': [
                {'title': 'Spare Parts First Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
                {'title': 'Spare Parts Second Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
                {'title': 'Spare Parts Third Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
                {'title': 'Spare Parts Fourth Lorem ipsum this?', 'description': 'Lorem ipsum descrpition'},
              ]
            },
          ]
        },
        tabs: {
          type: Array,
          computed: '_getCategories(faqDetail)'
        },
        selected: {
          type: Number,
          value: 0
        },
      },
      _getCategories(faqDetail) {
        var categories = [];
        for (var i = 0; i < faqDetail.length; i++) {
          categories[i] = faqDetail[i].title;
        }

        return categories;
      },

      /**
       * @name _eventTracking
       * @description this is for example tracking only
       * more info http://bit.ly/2nb6I7G
       */
      _eventTracking: function (event) {
        /* ...TRACKING CODE FOR THIS PLUGIN... */
      }
    });

  </script>

</dom-module>
