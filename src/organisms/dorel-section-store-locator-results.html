<link rel="import" href="../organisms/dorel-section-store-locator-result.html">

<dom-module id="dorel-section-store-locator-results">
  <template>
    <style include="iron-flex iron-flex-alignment" is="custom-style">

      :host {
        --button-margin-spacing: -1.5em;
      }

      .results {
        padding: 1.5em var(--theme-gutter-mobile);
        float: left;
        width: 100%;
        box-sizing: border-box;
        background-color: var(--theme-color-white);
      }

      .row {
        @apply(--theme-grid-row);
        @apply(--layout-flex);
      }

      .title {
        @apply(--theme-typography-7);
        margin-top: 0;
        color: var(--theme-brand-color-1);
        width: 100%;
        text-align: left;
        box-sizing: border-box;
      }

      .location-title {
        @apply(--theme-typography-5);
        width: 100%;
        text-align: left;
        margin-top: 0;
      }

      .location-content {
        @apply(--theme-paragraph-text);
        margin-top: 0;
      }

      .results-content {
        @apply(--theme-grid-column-mobile);
        max-width: var(--theme-base-paragraph-width);
        width: 100%;
        padding: 0;
      }

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
      }

      li {
        float: left;
        width: 100%;
        margin-top: 1.5em;
        padding-bottom: 1.5em;
        border-bottom: 1px solid var(--theme-color-monochrome-2);
      }

      dorel-cta {
        width: auto;
        float: left;
        margin-right: 1.5em;
      }

      /* Responsive Behaviour */
      [tablet-medium-up] li {
        padding-bottom: 0;
        border-bottom: 0;
      }

      .results[tablet-medium-up] {
        padding: 3em var(--theme-gutter);
      }

      [tablet-medium-up] .results-content {
        margin: auto;
      }

    </style>

    <dorel-media-query breakpoints="{{ breakpoints }}"></dorel-media-query>

    <div class="results layout horizontal center center-justified wrap"
         tablet-medium-up$="{{ breakpoints.tabletMediumUp }}">
      <div class="row">
        <div class="results-content">
          <h2 class="title">{{ localize('Results' }}</h2>
          <ul>
            <template
              is="dom-repeat"
              items="[[ results ]]"
              as="store">
              <li>
                <dorel-section-store-locator-result
                  store="[[ store ]]"
                  gtm-parent="[[ gtmParent ]]"
                  gtm-parent-index="[[ gtmParentIndex ]]"
                  gtm-child="[[ gtmChild ]]"
                  gtm-child-index="[[ index ]]"></dorel-section-store-locator-result>
              </li>
            </template>
          </ul>
        </div>
      </div>
    </div>
  </template>

  <script>
    Polymer({
      is: 'dorel-section-store-locator-results',

      behaviors: [
        DorelMultilingualBehavior
      ],

      properties: {

        /**
         * @attribute
         * @name results
         * @description All search results
         */
        results: {
          type: Object,
          value: function () {
            return {};
          }
        }

      }

    });

  </script>

</dom-module>
