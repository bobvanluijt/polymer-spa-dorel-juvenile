<dom-module id="dorel-page-builder">
  <template>
    <style>
      dorel-layout-section dorel-page-builder {
        width: 100%;
        display: flex;
      }

      dorel-hero {
        --dorel-hero-bg: {
          min-height: 540px; /* temporary */
          background-size: cover;
          background-position: 0 -230px;;
          background-repeat: no-repeat;
        };
      }
    </style>

    <!-- show when acf.page_builder has components -->
    <template 
      is="dom-if" 
      if="{{ builderData.length }}">

      <!-- iterate over page_builder components -->
      <template
        is="dom-repeat" 
        items="[[ builderData ]]" 
        as="component"
        targetFramerate="1000">
    
        
    

        <!-- dorel card -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'card') }}">
          
          <dorel-card card-data="[[ component ]]"></dorel-card>

        </template>
        <!--// dorel card -->





        <!-- dorel content_wrapper -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'content_wrap') }}">
          
          <dorel-content-wrap
            title-type="[[ component.title_type ]]"
            title-align="[[ component.title_align ]]"
            content-title="[[ component.title ]]"
            content-html="[[ component.text ]]"></dorel-content-wrap>

        </template>
        <!--// dorel content_wrapper -->





        <!-- dorel image-wrap -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'image_wrap') }}">
          
          <dorel-image-wrap
            image-url="[[ component.image_url ]]"></dorel-image-wrap>

        </template>
        <!--// dorel image-wrap -->





        <!-- dorel video-wrap -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'video_wrap') }}">
          
          <dorel-video-wrap
            video-type="[[ component.video_type ]]"
            video-id="[[ component.video_id ]]"></dorel-video-wrap>

        </template>
        <!--// dorel video-wrap -->




        <!-- section-big-title -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'section_big_title') }}">
          
          <dorel-section-big-title
            big-title-data="[[ component ]]"></dorel-section-big-title>

        </template>
        <!--// section-big-title -->




        <!-- section-cta -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'section_cta') }}">
          
          <dorel-section-cta
            cta-data="[[ component ]]"></dorel-section-cta>

        </template>
        <!--// section-cta -->





        <!-- dorel section hero -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'section_hero') }}">
          
          <dorel-section-hero hero-data="[[ component ]]"></dorel-section-hero>

        </template>
        <!--// dorel section hero -->




        <!-- section-indigo -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'section_indigo') }}">
          
          <dorel-section-indigo
            indigo-data="[[ component ]]"></dorel-section-indigo>

        </template>
        <!--// section-indigo -->




        <!-- section-multi -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'section_multi') }}">
          
          <dorel-section-multi
            multi-data="[[ component ]]"></dorel-section-multi>

        </template>
        <!--// section-multi -->




        <!-- section-related-accessoiries -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'section_related_accessoiries') }}">
          
          <dorel-section-related-accessoiries
            rel-acc-data="[[ component ]]"></dorel-section-related-accessoiries>

        </template>
        <!--// section-related-accessoiries -->




        <!-- section-showcase -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'section_showcase') }}">
          
          <dorel-section-showcase
            showcase-data="[[ component ]]"></dorel-section-showcase>

        </template>
        <!--// section-showcase -->




        <!-- section-usps -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'section_usps') }}">
          
          <dorel-section-usps
            usps-data="[[ component ]]"></dorel-section-usps>

        </template>
        <!--// section-usps -->





        <!-- dorel slider -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'slider') }}">
          
          <dorel-slider>
            <dorel-slider-slide
              slide-data="[[ component.slides ]]"
              slide-index="0">
            </dorel-slider-slide>

            <dorel-slider-slide
              slide-data="[[ component.slides ]]"
              slide-index="1">
            </dorel-slider-slide>
          </dorel-slider>

          
          <template
            is="dom-repeat" 
            items="[[ component.slides ]]">
            <dorel-slider-slide
              slide-data="[[ item ]]"
              slide-index="{{ index }}">
            </dorel-slider-slide>

          </template>
          

        </template>
        <!--// dorel slider -->


        <!-- ////////////////// TODO: Refactor \\\\\\\\\\\\\\\\\\\ -->


        <!-- dorel column-wrapper -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'column_wrapper') }}">

          <dorel-layout-section>
            <dorel-page-builder builder-data="[[ component.columns ]]"></dorel-page-builder>
          </dorel-layout-section>

        </template>
        <!--// dorel column-wrapper -->




        <!-- column_full -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'column_full') }}">
          
          <!-- column-half -->
          <dorel-layout-section-column column-align="[[ component.column_align ]]">
            <dorel-column-content>
              
              <dorel-page-builder builder-data="[[ component.column_flex_content ]]"></dorel-page-builder>

            </dorel-column-content>
          </dorel-layout-section-column>

        </template>
        <!--// column_full -->





        <!-- column_half -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'column_half') }}">
          
          <!-- column-half -->
          <dorel-layout-section-column column-align="[[ component.column_align ]]">
            <dorel-column-content>
              
              <dorel-page-builder builder-data="[[ component.column_flex_content ]]"></dorel-page-builder>

            </dorel-column-content>
          </dorel-layout-section-column>

        </template>
        <!--// column_half -->





      </template><!--// dom-repeat -->
    </template><!--// dom-if -->

  </template>
  
  <script>
    Polymer({
      is: 'dorel-page-builder',

      _isPageComponent: function(response, cname) {
        return response === cname;
      }
    });
  </script>
</dom-module>