<dom-module id="dorel-page-builder">
  <template>
    <style>
      dorel-layout-section dorel-page-builder {
        width: 100%;
        display: flex;
      }

      dorel-hero {
        --dorel-hero-bg: {
          min-height: 540px; /* temporary */
          background-size: cover;
          background-position: 0 -230px;;
          background-repeat: no-repeat;
        };
      }
    </style>

    <!-- show when acf.page_builder has components -->
    <template 
      is="dom-if" 
      if="{{ builderData.length }}">

      <!-- iterate over page_builder components -->
      <template
        is="dom-repeat" 
        items="[[ builderData ]]" 
        as="component"
        targetFramerate="1000">
    
        
    

        <!-- dorel card -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'card') }}">
          
          <dorel-card card-data="[[ component ]]"></dorel-card>

        </template>
        <!--// dorel card -->





        <!-- dorel column-wrapper -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'column_wrapper') }}">

          <dorel-layout-section>
            <dorel-page-builder builder-data="[[ component.columns ]]"></dorel-page-builder>
          </dorel-layout-section>

        </template>
        <!--// dorel column-wrapper -->




        <!-- column_full -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'column_full') }}">
          
          <!-- column-half -->
          <dorel-layout-section-column column-align="[[ component.column_align ]]">
            <dorel-column-content>
              
              <dorel-page-builder builder-data="[[ component.column_flex_content ]]"></dorel-page-builder>

            </dorel-column-content>
          </dorel-layout-section-column>

        </template>
        <!--// column_full -->





        <!-- column_half -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'column_half') }}">
          
          <!-- column-half -->
          <dorel-layout-section-column column-align="[[ component.column_align ]]">
            <dorel-column-content>
              
              <dorel-page-builder builder-data="[[ component.column_flex_content ]]"></dorel-page-builder>

            </dorel-column-content>
          </dorel-layout-section-column>

        </template>
        <!--// column_half -->





        <!-- dorel content_wrapper -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'content_wrapper') }}">
          
          <dorel-content-wrapper
            content-title="[[ component.content_wrapper_title ]]"
            content-html="[[ component.content_wrapper_text ]]"></dorel-content-wrapper>

        </template>
        <!--// dorel content_wrapper -->





        <!-- dorel section hero -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'section_hero') }}">
          
          <dorel-section-hero hero-data="[[ component ]]"></dorel-section-hero>

        </template>
        <!--// dorel section hero -->





        <!-- dorel slider -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'slider') }}">
          
          <dorel-slider>
            <dorel-slider-slide
              slide-data="[[ component.slides ]]"
              slide-index="0">
            </dorel-slider-slide>

            <dorel-slider-slide
              slide-data="[[ component.slides ]]"
              slide-index="1">
            </dorel-slider-slide>
          </dorel-slider>

          
          <template
            is="dom-repeat" 
            items="[[ component.slides ]]">
            <dorel-slider-slide
              slide-data="[[ item ]]"
              slide-index="{{ index }}">
            </dorel-slider-slide>

          </template>
          

        </template>
        <!--// dorel slider -->




        <!-- standout sections -->
        <template 
          is="dom-if" 
          if="{{ _isPageComponent(component.acf_fc_layout, 'section_standout') }}">
          
          <dorel-section-standout
            standout-data="[[ component ]]"></dorel-section-standout>

        </template>
        <!--// standout sections -->





      </template><!--// dom-repeat -->
    </template><!--// dom-if -->

  </template>
  
  <script>
    Polymer({
      is: 'dorel-page-builder',

      _isPageComponent: function(response, cname) {
        return response === cname;
      }
    });
  </script>
</dom-module>