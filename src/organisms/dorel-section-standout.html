<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-styles/shadow.html">

<!--
if using `skewed` the background will get a skewed background.

```html
<dorel-section-standout>
</dorel-section-standout>
```

Attribute | Description         | Default
----------|---------------------|----------------------------------------
`skewed` | Will make the background of the element skewed. | Not skewed

## Styling

Mixin | Description | Default
------|-------------|----------
`--dorel-section-standout` | Applies to the standout section | {}
`--dorel-section-standout-bg` | Applies to the standout section bg (not skewed) | {}
`--dorel-section-standout-skewed-bg` | Applies to the background color. | background-color: #ccc; {}

-->

<dom-module id="dorel-section-standout">
  <template>
    <style is="custom-style">
      :host {
        height: 100%;
      }
      /* 
       * iron-flex reusable classes 
       */
      .horizontal {
        @apply(--layout-horizontal);
      }
      .flex {
        @apply(--layout-flex);
      }
      .vertical-center {
        @apply(--layout-horizontal);
        @apply(--layout-center);
      }
      .theme-headline {
        font-size: var(--theme-size-headline);
        @apply(--theme-heading);
      }
      .center-justified {
        @apply(--layout-horizontal);
        @apply(--layout-center-justified);
      }
      /* 
       * custom classes 
       */
      .standout {
        width: 100%;
        @apply(--dorel-section-standout);
      }
      .bg-standout {
        @apply(--dorel-section-standout-bg);
      }
      .bg-clr-brand {
        background-color: #ccc;
        @apply(--dorel-section-standout-skewed-bg);
      }
      .bg-skewed {
        transform: skewY(5deg);
        margin-top: -75px; /* compensate for skewed background */
      }
      .bg-skewed-unskew {
        transform: skewY(-5deg);
      }


      /* 
       * custom classes 
       */
       /*.category-section p {
         @apply --theme-bodycopy;
       }*/
       /* mixin for shadow transition --shadow-transition (paper-styles/shadow.html)  */
      .standout-content {
        margin-top: 30px;
        padding: 3rem 7rem;
      }
      p {
        @apply(--theme-bodycopy);
      }
      .strollers {
        --dorel-section-standout-skewed-bg: {
          /*background-color: var(--theme-brand-color-accent-green);*/
          background-color: white;
        };
      }
      .car-seats {
        display: flex;
        margin-top: calc(75px + 50px); /* 75 px is offset for dorel-section-standout */
      }

      paper-card {
         margin: -10px auto 0 auto;
         display: block;
         max-width: 340px;
         @apply(--shadow-elevation-6dp);
      }
    </style>
    

    <dorel-layout-section
      layout-skewed="[[ standoutData.standout_skewed_toggle ]]"
      layout-bg-color="[[ standoutData.standout_background_color ]]">

      <!-- EVEN -->
      <template 
        is="dom-if" 
        if="{{ _isEven(standoutIndex) }}">
        <dorel-layout-section-column>
          <dorel-column-content>
            <h2 class="theme-headline">[[ standoutData.standout_title ]]</h2>
            <dorel-safe-html html="[[ standoutData.standout_content ]]"></dorel-safe-html>
          </dorel-column-content>
        </dorel-layout-section-column>

        <dorel-layout-section-column>
          <paper-card class="flex" alt="[[ standoutData.standout_image_title ]]"
            heading="[[ standoutData.standout_image_title ]]" 
            image="[[ standoutData.standout_image ]]"></paper-card>
        </dorel-layout-section-column>
      </template>

      <!-- ODD -->
      <template 
        is="dom-if" 
        if="{{ !_isEven(standoutIndex) }}">
        <dorel-layout-section-column>
          <paper-card class="flex" alt="[[ standoutData.standout_image_title ]]"
            heading="[[ standoutData.standout_image_title ]]" 
            image="[[ standoutData.standout_image ]]"></paper-card>
        </dorel-layout-section-column>

        <dorel-layout-section-column>
          <dorel-column-content>
            <h2 class="theme-headline">[[ standoutData.standout_title ]]</h2>
            <dorel-safe-html html="[[ standoutData.standout_content ]]"></dorel-safe-html>
          </dorel-column-content>
        </dorel-layout-section-column>
      </template>

    </dorel-layout-section>

  </template>

  <script>

    Polymer({
      is: 'dorel-section-standout',

      properties: {
        standoutData: {
          type: Object
        }
      },

      _isEven: function(index) {
        return index % 2 == 0;
      },

      ready: function() {
        this.bgColor = (typeof this.bgColor === 'undefined') ? '#dcdcdc' : this.bgColor;
      }
    });

  </script>
</dom-module>