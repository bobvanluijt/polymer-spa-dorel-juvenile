<dom-module id="dorel-footer">
  <template>
    <style include="iron-flex iron-flex-alignment">
      footer {
        background-color: var(--theme-brand-color-royal-blue);
        padding: var(--theme-component-space-inner);
      }

      footer a,
      .footer-text {
        color: white;
        text-decoration: none;
        @apply(--theme-ie-bodycopy);
      }

      .footer-heading {
        margin-bottom: .5rem;
        @apply(--theme-bodycopy);
        color: var(--theme-brand-color);
        font-size: 1rem;
      }

      .footer-media-links {
        padding: var(--theme-component-space-inner);
      }

      .footer-media-link {
        text-align: center;
        min-width: 100px;
        padding: 3px 20px;
        font-size: 13px;
        white-space: nowrap;
      }

      .footer-media-links a span {
        line-height: 24px;
        margin-left: 8px;
      }

      .footer-back-to-top {
        padding: 1rem 0 0;
      }

      /* lists not enumerated */
      .not-enum {
        padding-left: 0;
      }

      .not-enum li {
        list-style-type: none;
      }

      .footer-disclaimer {
        margin-top: 1rem;
        margin-bottom: 1rem;
      }

      footer[layoutwide] .footer-info {
        @apply(--layout-horizontal);
      }

      footer[layoutwide] .footer-menu {
        @apply(--layout-flex);
      }

      footer[layoutwide] .footer-disclaimer {
        @apply(--layout-flex-3);
      }
    </style>

    <iron-media-query query="(min-width:800px)" query-matches="{{ isAtLeast800px }}"></iron-media-query>

    <footer layoutwide$="{{ isAtLeast800px }}">
      <section class="footer-media-links">
        <div class="layout horizontal center center-justified">
          <a class="footer-media-link" href="#">
            <iron-icon icon="social-iconset:youtube" style="fill:rgb(0, 150, 195)"></iron-icon>
            <span>Maxi Cosi</span>
          </a>
          <a class="footer-media-link" href="#">
            <iron-icon icon="social-iconset:twitter" style="fill:rgb(0, 150, 195)"></iron-icon>
            <span>@Maxi Cosi</span>
          </a>
          <a class="footer-media-link" href="#">
            <iron-icon icon="social-iconset:facebook" style="fill:rgb(0, 150, 195)"></iron-icon>
            <span>Maxi-Cosi</span>
          </a>
        </div>
      </section>

      <section class="footer-info">
        <div class="layout vertical footer-disclaimer">
          <span class="footer-text">Copyright Â© 2017 Dorel Europe. All Rights Reserved.</span>
          <span class="footer-text">A division of Dorel Juvenile.</span>
          <!--div><img width="200" src="../../assets/images/dorel.svg" alt="#" /></div-->
        </div>

        <!-- footer widget area container -->
        <div id="footer-widget-area"><!-- widgets inserted here --></div>

        <div class="footer-menu">
          <ul class="not-enum">
            <li class="footer-heading">Company</li>
            <li><a href="#">Working at Maxi Cosi</a></li>
            <li><a href="#">Cookies</a></li>
            <li><a href="#">Disclaimer</a></li>
          </ul>
        </div>

        <div class="footer-menu">
          <ul class="not-enum">
            <li class="footer-heading">Service</li>
            <li><a href="#">FAQ</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </div>

        <div class="footer-menu">
          <ul class="not-enum">
            <li class="footer-heading">Brands</li>
            <li><a href="#">Quinny</a></li>
            <li><a href="#">Baby Art</a></li>
            <li><a href="#">Safety 1st</a></li>
            <li><a href="#">Tiny Love</a></li>
          </ul>
        </div>

      </section>

      <section class="footer-back-to-top">
        <dorel-back-to-top></dorel-back-to-top>
      </section>

    </footer>

  </template>

  <script>
    Polymer({
      is: 'dorel-footer',

      properties: {
        footerWidgets: {
          type: Object,
          notify: true
        }
      },

      observers: [
        '_areasChanged(globals.Dorel.collect.widgetAreas.footer-widget-area)'
      ],

      _areasChanged: function(data) {
        var footerEl = this;

        // if no data is given jump out
        if (typeof data === 'undefined' || typeof data.widgets === 'undefined') {
          return;
        } else if (data.widgets.length) {

          /**
           * iterate over every widget inside the footer-widget-area
           * and append it to the footer-widget-area div
           */
          data.widgets.forEach(function(widget) {
            var footerColumn = document.createElement("div");
            footerColumn.className = 'footer-menu';
            footerColumn.innerHTML = widget.rendered;

            footerEl.$['footer-widget-area'].appendChild(footerColumn);
          });
        }

        this.footerWidgets = data;
      }
    });
  </script>
</dom-module>