<link rel="import" href="../../../../node_modules/app-localize-behavior/app-localize-behavior.html">

<script>
/**
 * @polymerBehavior
 */
  const BehaviorImplementation = {
    properties: {
      /**
       * @name language
       * @description Polymer.AppLocalizeBehavior language setting
       */
      language: {
        value: (window.location.href.split('/')[3]).substring(3, 5)
      }
    },
    /**
     * @name attached
     * @description - Load Polymer.AppLocalizeBehavior translation data
     */
    attached: function() {
      const countryCode = (window.location.href.split('/')[3]).substring(0, 2);
      this.loadResources(this.resolveUrl(`https://api.dorel.io/v1/translations/countrycode/${countryCode}`));
    }
  }

/**
 * @polymerBehavior
 */
  window.DorelMultilingualBehavior = [Polymer.AppLocalizeBehavior, BehaviorImplementation]
</script>
