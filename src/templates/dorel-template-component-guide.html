<link rel="import" href="component-guide/dorel-component-guide-buttons.html">
<link rel="import" href="component-guide/dorel-component-guide-colors.html">
<link rel="import" href="component-guide/dorel-component-guide-forms.html">
<link rel="import" href="component-guide/dorel-component-guide-introduction.html">
<link rel="import" href="component-guide/dorel-component-guide-layout.html">
<link rel="import" href="component-guide/dorel-component-guide-typography.html">
<link rel="import" href="component-guide/dorel-component-guide-colors.html">
<link rel="import" href="../../bower_components/paper-toggle-button/paper-toggle-button.html">

<dom-module id="dorel-template-component-guide">
  <template>
    <style is="custom-style">
      :host {
        display: block;
        float: left;
        width: 100%;
      }

      :root {
        --paper-toggle-button-label-color: var(--theme-color-white);
        --paper-toggle-button-checked-button-color: var(--theme-color-white);
        --paper-toggle-button-checked-bar-color: var(--theme-color-black);
      }

      paper-item:after, paper-item:before {
        background-color: var(--theme-color-white) !important;
      }

      paper-item:hover {
        color: var(--theme-brand-color);
      }

      paper-item {
        cursor: pointer;
        @apply(--theme-typography-2);
        margin-top: 0;
        border-left: .25em solid transparent;
        padding: 0 .5em;
        transition: color .3s ease, border-left .3s ease;

        --paper-item-selected: {
          background: transparent;
          font-weight: normal;
          border-left: .25em solid var(--theme-brand-color-1);
          font-weight: normal !important;
          color: var(--theme-brand-color-1);
        };
      }

      paper-menu {
        background-color: transparent;
        padding: 1.5em 0 0 0;
      }

      .component-guide {
        position: relative;
        float: left;
        width: 100%;
      }

      .component-guide__sidebar, .component-guide__content {
        display: inline-block;
        float: left;
        box-sizing: border-box;
      }

      .component-guide__sidebar {
        width: 200px;
        background-color: transparent;
        padding-top: 1.5em;
      }

      .component-guide__content {
        padding: 1.5em;
        width: calc(100% - 200px);
        min-height: calc(100vh - 112px);
      }

      .component-guide__toolbar {
        float: left;
        width: 100%;
        background-color: var(--theme-brand-color-1);/*var(--theme-color-monochrome-2);*/
        padding: .75em 1.5em;
        box-sizing: border-box;
      }



      paper-toggle-button {
        @apply(--theme-typography-2);
        margin: .75em;
        cursor: pointer;
        float: left;
      }

      dorel-input-select {
        float: left;
        width: 15em;
        margin-bottom: -1.5em;
        margin-right: 3em;
      }
    </style>

    <!-- define routing for products -->
    <app-route
      route="{{ route }}"
      pattern="/:componentName"
      data="{{ routeData }}"
      tail="{{ subroute }}"></app-route>

    <div class="component-guide">
      <div class="component-guide__toolbar">
        <dorel-input-select label=""
                            options="[[ availableBrands ]]"
                            selected="{{ brand }}"></dorel-input-select>

        <paper-toggle-button noink
                             checked$="[[ globals.Dorel.grid.vertical ]]"
                             on-tap="_setVerticalRhythm">
          Vertical Rhythm
        </paper-toggle-button>
        <paper-toggle-button noink
                             checked$="[[ globals.Dorel.grid.horizontal ]]"
                             on-tap="_setHorizontalGrid">
          Horizontal Grid
        </paper-toggle-button>
      </div>
      <div class="component-guide__sidebar">
        <paper-menu selected="{{ routeData.componentName }}"
                    attr-for-selected='name'>
          <paper-item name="introduction">Introduction</paper-item>
          <paper-item name="typography">Typography</paper-item>
          <paper-item name="layout-sizes">Layout & Sizes</paper-item>
          <paper-item name="colors">Colors</paper-item>
          <paper-item name="buttons">Buttons</paper-item>
          <paper-item name="forms">Forms</paper-item>
        </paper-menu>
      </div>
      <iron-pages class="component-guide__content"
                  selected="{{ routeData.componentName }}"
                  fallback-selection="introduction"
                  attr-for-selected="name">
        <dorel-component-guide-introduction brand="{{ brand }}"
                                            name="introduction"></dorel-component-guide-introduction>
        <dorel-component-guide-typography name="typography"></dorel-component-guide-typography>
        <dorel-component-guide-layout name="layout-sizes"></dorel-component-guide-layout>
        <dorel-component-guide-colors name="colors"></dorel-component-guide-colors>
        <dorel-component-guide-buttons name="buttons"></dorel-component-guide-buttons>
        <dorel-component-guide-forms name="forms"></dorel-component-guide-forms>
      </iron-pages>
    </div>
  </template>

  <script>
    Polymer({
      is: 'dorel-template-component-guide',
      properties: {
        /**
         * @name brand
         * @description defines the brand
         */
        brand: {
          type: String,
          notify: true,
          readOnly: false
        },
        /**
         * @name availableBrands
         * @description List of available brands
         */
        availableBrands: {
          type: Array,
          value: []
        }
      },
      /**
       * @name _setVerticalRhythm
       * @description Toggles the vertical rhythm global variable (and it's connected overlay component)
       */
      _setVerticalRhythm: function () {
        var vertical = Polymer.globalsManager.get('Dorel.grid.vertical');
        Polymer.globalsManager.set('Dorel.grid.vertical', !vertical);
      },
      /**
       * @name _setHorizontalGrid
       * @description Toggles the horizontal grid global variable (and it's connected overlay component)
       */
      _setHorizontalGrid: function () {
        var horizontal = Polymer.globalsManager.get('Dorel.grid.horizontal');
        Polymer.globalsManager.set('Dorel.grid.horizontal', !horizontal);
      },
    });
  </script>
</dom-module>
