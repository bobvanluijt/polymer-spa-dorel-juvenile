<link rel="import" href="../atoms/dorel-cta.html">
<link rel="import" href="../atoms/dorel-bynder-image.html">

<dom-module id="dorel-category-sub">
  <template>
    <style include="iron-flex">
      section {
        @apply(--max-width-container);
        width: 100%;
        float: left;
        box-sizing: border-box;
      }

      .row {
        @apply(--theme-grid-row);
        @apply(--layout-flex);
        @apply(--theme-grid-row-mobile-margins);
      }

      .title {
        @apply(--theme-typography-5);
        margin-top: 0;
        color: var(--theme-brand-color-1);
        float: left;
        width: 100%;
      }

      p {
        @apply(--theme-paragraph-text);
        float: left;
        width: 100%;
      }

      .age-range {
        @apply(--theme-paragraph-text);
        margin: 0;
        float: left;
        width: 100%;
      }

      .image-container {
        @apply(--theme-grid-column);
        @apply(--theme-grid-column-mobile);
        margin-top: 0;
        -ms-flex-preferred-size: 100%;
        flex-basis: 100%;
        max-width: 100%;
      }

      .info-container {
        @apply(--theme-grid-column);
        @apply(--theme-grid-column-mobile);
        margin-top: 0;
        -ms-flex-preferred-size: 100%;
        flex-basis: 100%;
        max-width: 100%;
        padding: 0 1.5em 1.5em 1.5em;
      }

      dorel-bynder-image {
        width: 100%;
        float: left;
        margin-bottom: 1.5em;
        box-sizing: border-box;
        border-radius: var(--theme-border-radius-2);
        overflow: hidden;
      }

      dorel-cta {
        width: auto;
        float: left;
        clear: both;
      }

      [tablet-medium-up] .image-container {
        @apply(--theme-grid-column);
        -ms-flex-preferred-size: 41.6666667%;
        flex-basis: 41.6666667%;
        max-width: 41.6666667%;
        margin-top: 0;
      }

      [tablet-medium-up] .info-container {
        @apply(--theme-grid-column);
        -ms-flex-preferred-size: calc(100% - 41.6666667%);
        flex-basis: calc(100% - 41.6666667%);
        max-width: calc(100% - 41.6666667%);
        padding-left: 3em;
        margin-top: 0;
      }

      [tablet-medium-up] .title {
        @apply(--theme-typography-6);
      }

      [tablet-medium-up] .row {
        @apply(--theme-grid-row-margins);
      }

      [tablet-medium-up] dorel-bynder-image {
        margin-bottom: 0
      }

      [tablet-medium] .image-container {
        @apply(--theme-grid-column);
        -ms-flex-preferred-size: 50%;
        flex-basis: 50%;
        max-width: 50%;
        margin-top: 0;
      }

      [tablet-medium] .info-container {
        @apply(--theme-grid-column);
        -ms-flex-preferred-size: 50%;
        flex-basis: 50%;
        max-width: 50%;
        padding-left: 1.5em;
        margin-top: 0;
      }
    </style>

    <dorel-media-query breakpoints="{{ breakpoints }}"></dorel-media-query>

    <section tablet-medium-up$="{{ breakpoints.tabletMediumUp }}"
             tablet-medium$="{{ breakpoints.tabletMedium }}">
      <div class="row">
        <div class="image-container">
          <dorel-bynder-image media-id="[[ subCategoryData.bynder_image_id ]]"
                              derivative-identifier="Fullscreen Small landscape"
                              width="100%"
                              height="18em"
                              tablet-width="100%"
                              tablet-height="21em"
                              mobile-width="100%"
                              mobile-height="15em"></dorel-bynder-image>
        </div>
        <div class="info-container">
          <h2 class="title">[[ subCategoryData.title ]]</h2>
          <p class="age-range">[[ subCategoryData.age_category ]]</p>
          <div class="description">
            <dorel-safe-html html="[[ subCategoryData.description ]]"></dorel-safe-html>
          </div>
          
          <template
            is="dom-if"
            if="[[ subCategoryData.cta_toggle ]]">

            <dorel-cta title="[[ subCategoryData.cta_text ]]"
                       type="secondary"
                       link="[[ subCategoryData.cta_link ]]"
                       size="medium"
                       icon="dorel-icons:chevron-right">
              [[ subCategoryData.cta_text ]]
            </dorel-cta>
          </template>

        </div>
      </div>
    </section>
  </template>

  <script>

    Polymer({
      is: 'dorel-category-sub',
      properties: {
        /** 
         * @attribute
         * @name subCategoryData
         * @description all data for this sub category
         */
        subCategoryData: {
          type: Object,
          value: function() {
            return {};
          }
        }
      },
    });

  </script>

</dom-module>
