<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">

<dom-module id="dorel-product-accessory-lightbox">
  <template>
    <style include="iron-flex iron-flex-alignment">
      .lightbox-backdrop {
        position: fixed;
        width: 100%;
        height: 100%;
        left: 0;
        top: 0;
        background-color: rgba(0, 0, 0, .2);
        opacity: 0;
        display: none;
        z-index: 100;
      }

      .lightbox-backdrop[opened] {
        opacity: 1;
        display: block;
      }
    </style>

    <!-- media queries -->
    <iron-media-query query="(max-width : 479px)"
                      query-matches="{{ mobileSmall }}"></iron-media-query>
    <iron-media-query query="(min-width : 480px) and (max-width : 820px)"
                      query-matches="{{ mobileMedium }}"></iron-media-query>
    <iron-media-query query="(min-width : 821px) and (max-width : 991px)"
                      query-matches="{{ tablets }}"></iron-media-query>
    <iron-media-query query="(min-width : 992px) and (max-width : 1199px)"
                      query-matches="{{ desktopSmall }}"></iron-media-query>

    <section class="section-product-accessory-lightbox"
             mobile-small$="{{ mobileSmall }}"
             mobile-medium$="{{ mobileMedium }}"
             tablets$="{{ tablets }}">
      <div class="lightbox-backdrop" opened$="{{ opened }}"></div>
      <paper-dialog id="lightbox">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
          labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris
          nisi ut aliquip ex ea commodo consequat.</p>
        <div class="buttons">
          <paper-button dialog-confirm autofocus>Tap me to close</paper-button>
        </div>
      </paper-dialog>
    </section>
  </template>

  <script>

    Polymer({
      is: 'dorel-product-accessory-lightbox',
      listeners: {
        'iron-overlay-opened': '_onOverlayOpened',
        'iron-overlay-closed': '_onOverlayClosed'
      },
      properties: {
        /**
         * @attribute
         * @name accessoryLightboxData
         * @description data retrieved from ACF/Wordpress to build up this page
         */
        accessoryLightboxData: {
          type: Object,
          value: function () {
            return {};
          }
        },
        /**
         * @attribute
         * @name opened
         * @description attribute that for opened/closed dialogs
         */
        opened: {
          type: Boolean,
          value: false,
        }
      },
      /**
       * @name _onOverlayOpened
       * @description event handler for when the dialog is opened
       */
      _onOverlayOpened: function (event) {
        this.opened = true;
      },
      /**
       * @name _onOverlayClosed
       * @description event handler for when the dialog is closed
       */
      _onOverlayClosed: function (event) {
        this.opened = false;
      },
      /**
       * @name open
       * @description public function that opens the lightbox dialog
       */
      open: function (event) {
        this.$$('#lightbox').open();
      },
    });
  </script>

</dom-module>
